<?xml version="1.0"?>
<configuration>
	<configSections>
		<section name="edge.services" type="Easynet.Edge.Core.Configuration.ServicesSection, Edge.Core"/>

	</configSections>

	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<probing privatePath="Services"/>
		</assemblyBinding>
	</runtime>

	<!-- ======================================================== -->
	<!--						App Settings					  -->
	<!-- ======================================================== -->
	<appSettings>
		<!--Core-->
		<add key="Easynet.Edge.Core.Data.DataManager.Connection.String" value="Data Source=alonya-pc;Initial Catalog=testdb;Integrated Security=True"/>
		<add key="Easynet.Edge.Core.Data.DataManager.Connection.Timeout" value="200"/>
		<add key="Easynet.Edge.Core.Services.Service.BaseListeningUrl" value="net.tcp://localhost:3535/{0}"/>
		<add key="Easynet.Edge.Core.Services.Service.AssemblyDirectory" value="Services"/>
		<add key="Easynet.Edge.Core.Configuration.ServiceElement.DefaultMaxExecutionTime" value="00:40:00"/>
		<add key="Easynet.Edge.Core.Domain" value="seperia.hz"/>
		<add key="Easynet.Edge.Services.DataRetrieval.BaseService.SourceConnectionString" value="Data Source=alonya-pc;Initial Catalog=testdb;Integrated Security=true"/>
	</appSettings>

	<edge.services>
		<Extensions>
			<Extension Name="Directories" Type="Easynet.Edge.Services.FileImport.DirectoryElementCollection, Edge.Services.FileImport"/>
		</Extensions>

		<!-- Services -->
		<Services>
			<Service Name="WizardService" Class="Easynet.Edge.Wizards.WizardHostService,Edge.Wizards.Base"/>

			<Service Name="AccountWizard">
				<ExecutionSteps>
					<Step ServiceToUse="AccountWizardCollectors"/>
					<Step ServiceToUse="AccountWizardExecutors"/>
				</ExecutionSteps>
			</Service>

			<Service Name="AccountWizardCollectors">
				<ExecutionSteps>
					<Step ServiceToUse="Step1Collector" IsStep="True" />
					<Step ServiceToUse="Step2Collector" IsStep="True"/>
					<Step ServiceToUse="Step3Collector"/>
				</ExecutionSteps>
			</Service>

			<Service Name="AccountWizardExecutors">
				<ExecutionSteps>
					<!--<Step ServiceToUse="Step1Executor"/>
					<Step ServiceToUse="Step2Executor"/>
					<Step ServiceToUse="Step3Executor"/>-->
				</ExecutionSteps>
			</Service>

			<Service Name="Step1Collector" Class="Easynet.Edge.Wizards.AccountWizard.Step1Collector,Edge.Wizards.AccountWizard"/>
			<Service Name="Step2Collector" Class="Easynet.Edge.Wizards.AccountWizard.Step2Collector,Edge.Wizards.AccountWizard"/>
			<Service Name="Step3Collector"/>
			
		</Services>

		<!-- Accounts -->
		<Accounts>
			<!--<Account ID="-1" Name="SYSTEM">
				<Services>
					--><!--<Service Uses="TestDemoAdGroupAdStatus"/>--><!--
				</Services>
			</Account>-->
		</Accounts>
	</edge.services>

	<!-- ======================================================== -->
	<!--				WCF configuration						  -->
	<!-- ======================================================== -->

	<system.serviceModel>
		<!--Server configuration-->
		<services>
			<service name="Easynet.Edge.Services.ScheduleManagement.ScheduleManagerService" behaviorConfiguration="behavior">
				<endpoint binding="wsHttpBinding" bindingConfiguration="edgeServiceWebBinding" contract="Easynet.Edge.Core.Scheduling.IScheduleManager" address="http://localhost:27334/v2.1/OrganicScheduleManager"/>
			</service>
		</services>
		<client>
			<endpoint name="Test" binding="netTcpBinding" bindingConfiguration="wizardStepBinding"  contract="Easynet.Edge.Wizards.IStepCollector" ></endpoint>
			
		</client>


		<behaviors>
			<serviceBehaviors>
				<behavior name="behavior">
					<serviceMetadata httpGetEnabled="false"/>
					<serviceDebug includeExceptionDetailInFaults="true"/>
				</behavior>
			</serviceBehaviors>
		</behaviors>

		<bindings>
			<netTcpBinding>
				<binding name="edgeServiceCommBinding" portSharingEnabled="true" receiveTimeout="1:0:0" />
				<binding name="wizardStepBinding" portSharingEnabled="true" receiveTimeout="9:0:0" closeTimeout="9:0:0" openTimeout="9:0:0" sendTimeout ="9:0:0"  />
			</netTcpBinding>			
			<wsHttpBinding>
				<binding name="edgeServiceWebBinding" sendTimeout="0:05:00" receiveTimeout="0:05:00"/>
			</wsHttpBinding>
		</bindings>

	</system.serviceModel>

<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/></startup></configuration>
